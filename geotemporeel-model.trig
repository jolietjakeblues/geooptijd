@prefix tn:    <https://termennetwerk.nl/def/geotemporeel#> .
@prefix ex:    <https://termennetwerk.nl/id/> .
@prefix skos:  <http://www.w3.org/2004/02/skos/core#> .
@prefix rdf:   <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs:  <http://www.w3.org/2000/01/rdf-schema#> .
@prefix geo:   <http://www.opengis.net/ont/geosparql#> .
@prefix dct:   <http://purl.org/dc/terms/> .
@prefix xsd:   <http://www.w3.org/2001/XMLSchema#> .
@prefix prov:  <http://www.w3.org/ns/prov#> .

#################################################################
# Schema-graph: kernmodel voor geo-temporele plaatsen
#################################################################

<https://termennetwerk.nl/graph/schema> {

  ### Klassen

  tn:Place a rdfs:Class ;
      rdfs:label "Place (abstracte plaats)"@nl ;
      rdfs:comment "Abstracte plaats, los van specifieke bestuurlijke vormen in de tijd."@nl ;
      rdfs:subClassOf skos:Concept .

  tn:PlaceTimeSlice a rdfs:Class ;
      rdfs:label "Place in time (tijdsnede van een plaats)"@nl ;
      rdfs:comment "Een tijdgebonden toestand van een plaats, bijv. een gemeente in een bepaalde periode."@nl .

  tn:Geometry a rdfs:Class ;
      rdfs:label "Geometry (ruimtelijke representatie)"@nl ;
      rdfs:comment "Ruimtelijke representatie (bijv. polygon) van een tijdsnede."@nl .

  tn:Period a rdfs:Class ;
      rdfs:label "Historische periode"@nl ;
      rdfs:comment "Historische periode, bijvoorbeeld 'Franse tijd' of 'moderne tijd'."@nl .

  ### Eigenschappen (geo-temporeel)

  tn:hasTimeSlice a rdf:Property ;
      rdfs:label "heeft tijdsnede"@nl ;
      rdfs:comment "Verbindt een abstracte plaats met een of meer tijdsgebonden varianten."@nl ;
      rdfs:domain tn:Place ;
      rdfs:range tn:PlaceTimeSlice .

  tn:ofPlace a rdf:Property ;
      rdfs:label "tijdsnede van plaats"@nl ;
      rdfs:comment "Inverse van tn:hasTimeSlice: geeft aan van welke plaats deze tijdsnede is."@nl ;
      rdfs:domain tn:PlaceTimeSlice ;
      rdfs:range tn:Place .

  tn:validFrom a rdf:Property ;
      rdfs:label "geldig vanaf"@nl ;
      rdfs:comment "Begin van de geldigheidsperiode van een tijdsnede."@nl ;
      rdfs:domain tn:PlaceTimeSlice ;
      rdfs:range xsd:date .

  tn:validTo a rdf:Property ;
      rdfs:label "geldig tot"@nl ;
      rdfs:comment "Einde van de geldigheidsperiode van een tijdsnede."@nl ;
      rdfs:domain tn:PlaceTimeSlice ;
      rdfs:range xsd:date .

  tn:adminType a rdf:Property ;
      rdfs:label "bestuurlijk type"@nl ;
      rdfs:comment "Bestuurlijk type van de tijdsnede, bijv. gemeente, departement, provincie, rijk."@nl ;
      rdfs:domain tn:PlaceTimeSlice .

  tn:partOf a rdf:Property ;
      rdfs:label "deel van (tijdgesneden)"@nl ;
      rdfs:comment "Hiërarchische relatie tussen tijdsnedes, bijv. gemeente deel van provincie."@nl ;
      rdfs:domain tn:PlaceTimeSlice ;
      rdfs:range tn:PlaceTimeSlice .

  tn:hasGeometry a rdf:Property ;
      rdfs:label "heeft geometrie"@nl ;
      rdfs:comment "Verbindt een tijdsnede met een ruimtelijke representatie."@nl ;
      rdfs:domain tn:PlaceTimeSlice ;
      rdfs:range tn:Geometry .

  tn:hasPeriod a rdf:Property ;
      rdfs:label "valt binnen historische periode"@nl ;
      rdfs:comment "Verbindt een tijdsnede met een historische periode."@nl ;
      rdfs:domain tn:PlaceTimeSlice ;
      rdfs:range tn:Period .

  tn:locatedIn a rdf:Property ;
      rdfs:label "bevindt zich in (plaats-tijdsnede)"@nl ;
      rdfs:comment "Verbindt een erfgoedobject of andere resource met een PlaceTimeSlice."@nl ;
      rdfs:domain rdfs:Resource ;
      rdfs:range tn:PlaceTimeSlice .

  ### Bron en provenance

  tn:source a rdf:Property ;
      rdfs:label "heeft bron"@nl ;
      rdfs:comment "Generieke eigenschap voor bronverwijzingen (dataset, kaart, publicatie, URI)."@nl ;
      rdfs:domain rdfs:Resource ;
      rdfs:range rdfs:Resource .

  dct:source rdfs:subPropertyOf tn:source .

  dct:provenance rdfs:subPropertyOf tn:source ;
      rdfs:comment "Beschrijving van de geschiedenis of herkomst van de resource."@nl .

  prov:wasDerivedFrom rdfs:subPropertyOf tn:source ;
      rdfs:comment "De resource is afgeleid van een andere resource (dataset, record, etc.)."@nl .

  ### Geometrie (GeoSPARQL)

  geo:asWKT a rdf:Property ;
      rdfs:label "WKT-geometrie"@nl ;
      rdfs:comment "Well-Known Text-representatie van de geometrie."@nl ;
      rdfs:domain tn:Geometry ;
      rdfs:range rdfs:Literal .
}

#################################################################
# Voorbeeld-graph: Weesp (gemeente, 1812–1966) + erfgoedobject
#################################################################

<https://termennetwerk.nl/graph/examples> {

  ### Abstracte plaatsen

  ex:place/weesp a tn:Place ;
      skos:prefLabel "Weesp"@nl ;
      skos:altLabel "Gemeente Weesp"@nl ;
      skos:exactMatch <https://www.wikidata.org/entity/Q9939> ;
      dct:source <https://www.geonames.org/2744912/> ;
      dct:provenance "Concept geïmporteerd uit Geonames/Wikidata en verrijkt met historische tijdslagen."@nl ;
      tn:hasTimeSlice ex:placetimeslice/weesp_gemeente_1812_1966 .

  ex:place/noordholland a tn:Place ;
      skos:prefLabel "Noord-Holland"@nl ;
      skos:exactMatch <https://www.wikidata.org/entity/Q495> .

  ex:period/moderne_tijd a tn:Period ;
      rdfs:label "Moderne tijd"@nl .

  ### Tijdsnedes

  ex:placetimeslice/noordholland_provincie_1840_heden a tn:PlaceTimeSlice ;
      rdfs:label "Noord-Holland (provincie, 1840–heden)"@nl ;
      tn:ofPlace ex:place/noordholland ;
      tn:adminType "provincie"@nl ;
      tn:validFrom "1840-01-01"^^xsd:date ;
      dct:source <https://www.cbs.nl/nl-nl/dossier/nederland-regionaal/gemeentelijke-indeling> .

  ex:placetimeslice/weesp_gemeente_1812_1966 a tn:PlaceTimeSlice ;
      rdfs:label "Weesp (gemeente, 1812–1966)"@nl ;
      tn:ofPlace ex:place/weesp ;
      tn:adminType "gemeente"@nl ;
      tn:validFrom "1812-01-01"^^xsd:date ;
      tn:validTo   "1966-08-01"^^xsd:date ;  # voorbeeld / fictief
      tn:partOf ex:placetimeslice/noordholland_provincie_1840_heden ;
      tn:hasGeometry ex:geometry/weesp_1950 ;
      tn:hasPeriod ex:period/moderne_tijd ;
      dct:source <https://www.topotijdreis.nl/> ,
                 <https://www.cbs.nl/nl-nl/dossier/nederland-regionaal/gemeentelijke-indeling> ;
      prov:wasDerivedFrom <https://data.nlextract.nl/BRK/Weesp> ;
      dct:provenance "Samengesteld op basis van Topotijdreis, CBS Gemeentelijke indeling en Kadasterinformatie. Gevalideerd door erfgoedbeheerder (voorbeeld)."@nl .

  ### Geometrie (vereenvoudigd voorbeeld, WKT is fictief)

  ex:geometry/weesp_1950 a tn:Geometry ;
      dct:date "1950-01-01"^^xsd:date ;
      dct:source <https://www.topotijdreis.nl/> ;
      geo:asWKT "POLYGON((5.040 52.310, 5.060 52.310, 5.060 52.330, 5.040 52.330, 5.040 52.310))" .

  ### Erfgoedobject gekoppeld aan de tijdsnede van Weesp

  ex:object/12345 a <https://termennetwerk.nl/def/erfgoed#Object> ;
      dct:title "Reclamebord van bakkerij Jansen"@nl ;
      dct:date "1950" ;
      tn:locatedIn ex:placetimeslice/weesp_gemeente_1812_1966 ;
      dct:provenance "Object afkomstig uit lokale collectie, gekoppeld aan Weesp (gemeente, 1812–1966) op basis van adresinformatie."@nl .
}
